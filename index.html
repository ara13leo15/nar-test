<!DOCTYPE html>
<html lang="ko">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ | ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ë‹·ì»´
  </title>
  <meta content="ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ë‹¹ì‹ ì˜ ê´€ê³„ ê±´ê°•ë„ë¥¼ ì ê²€í•˜ê³  íšŒë³µ ë‹¨ê³„ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”. ê°„ë‹¨í•œ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ì‹¬ë¦¬ ìƒíƒœë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." name="description"/>
  <meta content="ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸, ê³„ì‚°ê¸°, ìê°€ì§„ë‹¨, ê´€ê³„, ì‹¬ë¦¬í…ŒìŠ¤íŠ¸, ì •ì„œì  í•™ëŒ€, ê°€ìŠ¤ë¼ì´íŒ…, ì‹¬ë¦¬ ê±´ê°•" name="keywords"/>
  <meta content="website" property="og:type"/>
  <meta content="https://your-narcissist-calculator-url.com/" property="og:url"/>
  <meta content="ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ - ë‹¹ì‹ ì˜ ê´€ê³„ ê±´ê°•ë„ëŠ”?" property="og:title"/>
  <meta content="ê°„ë‹¨í•œ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ë‹¹ì‹ ì˜ ê´€ê³„ ê±´ê°•ë„ë¥¼ ì ê²€í•˜ê³  ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ ì„±í–¥ì— ëŒ€í•´ ì•Œì•„ë³´ì„¸ìš”." property="og:description"/>
  <meta content="https://your-narcissist-calculator-url.com/images/og-calculator-preview.png" property="og:image"/>
  <meta content="1200" property="og:image:width"/>
  <meta content="630" property="og:image:height"/>
  <meta content="ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸" property="og:site_name"/>
  <meta content="ko_KR" property="og:locale"/>
  <meta content="summary_large_image" property="twitter:card"/>
  <meta content="https://your-narcissist-calculator-url.com/" property="twitter:url"/>
  <meta content="ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ - ë‹¹ì‹ ì˜ ê´€ê³„ ê±´ê°•ë„ëŠ”?" property="twitter:title"/>
  <meta content="ê°„ë‹¨í•œ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ë‹¹ì‹ ì˜ ê´€ê³„ ê±´ê°•ë„ë¥¼ ì ê²€í•˜ê³  ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ ì„±í–¥ì— ëŒ€í•´ ì•Œì•„ë³´ì„¸ìš”." property="twitter:description"/>
  <meta content="https://your-narcissist-calculator-url.com/images/og-calculator-preview.png" property="twitter:image"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet"/>
  <style>
   /* ===== í°íŠ¸ ë° ì»¬ëŸ¬ ì •ì˜ ===== */
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: #f7f7f7;
      color: #444444;
      line-height: 1.7;
      min-height: 100vh;
      padding: 1rem;
    }
    :root {
      --primary-color: #4B3869;
      --primary-dark:  #3A2C58;
      --primary-light: #D5CAE3;
      --primary-lighter: #F4F1F8;
      --success-color: #2ecc71;
      --warning-color: #f1c40f;
      --alert-color:   #e67e22;
      --danger-color:  #e74c3c;
      --critical-color:#c0392b;
      --card-bg:       #ffffff;
      --background:    #f7f7f7;
      --text-main:     #444444;
      --text-dark:     #333333;
      --text-secondary:#666666;
      --text-light:    #999999;
      --border-light:  #E5E5E5;
      
      --spacing-xs: 8px;
      --spacing-sm: 12px;
      --spacing-md: 16px;
      --spacing-lg: 24px;
      --spacing-xl: 32px;
      --spacing-xxl: 48px;
      
      --font-base: 17px;
      --font-small: 14px;
      --font-medium: 18px;
      --font-large: 22px;
      --font-xlarge: 26px;
      --font-xxlarge: 32px;
    }
    /* ===== ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ë° ì»¨í…Œì´ë„ˆ ===== */
    .calculator-container, .result-container {
      max-width: 850px;
      margin: 0 auto;
      background-color: var(--card-bg);
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.05);
      padding: var(--spacing-xl);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .calculator-container:hover, .result-container:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 40px rgba(0, 0, 0, 0.1), 0 2px 5px rgba(0, 0, 0, 0.06);
    }
    /* ===== ì§ˆë¬¸ ì„¹ì…˜ ===== */
    .questions-list {
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 10px;
      margin-right: -10px;
      scroll-behavior: smooth;
      padding-top: var(--spacing-md);
    }
    .questions-list::-webkit-scrollbar { width: 6px; }
    .questions-list::-webkit-scrollbar-thumb { background: var(--primary-light); border-radius: 10px; }
    .questions-list::-webkit-scrollbar-track { background: rgba(213, 202, 227, 0.1); border-radius: 10px; }
    .question-item {
      transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
      padding: var(--spacing-md) var(--spacing-lg);
      margin-bottom: var(--spacing-md);
      border-radius: 12px;
      position: relative;
      border-left: 0px solid var(--primary-color);
      background-color: var(--primary-lighter);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
    }
    .question-item:hover {
      background-color: #ede8f6;
      border-left: 4px solid var(--primary-color);
      transform: translateX(2px) scale(1.01);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.04);
    }
    .question-item label {
      font-size: 18px;
      line-height: 1.6;
      color: var(--text-main);
      font-weight: 400;
      cursor: pointer;
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      width: 100%;
    }
    .emoji-icon {
      font-size: 1.4rem;
      margin-right: 0.6rem;
      display: inline-block;
      transform: translateY(2px);
      min-width: 1.4rem;
    }
    .question-text { flex: 1; }
    input[type="checkbox"] {
      width: 24px; height: 24px;
      accent-color: var(--primary-color);
      cursor: pointer;
      border-radius: 6px;
      margin-left: 14px;
      margin-top: 0.2rem;
      transition: all 0.2s ease;
      position: relative;
      flex-shrink: 0;
    }
    input[type="checkbox"]:checked {
      transform: scale(1.1);
      box-shadow: 0 0 0 2px rgba(75, 56, 105, 0.2);
    }
    /* ===== ê²°ê³¼ ì„¹ì…˜ ===== */
    .result-container { display: none; }
    .result-card {
      background-color: var(--card-bg);
      border-radius: 20px;
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.08), 0 5px 15px rgba(0, 0, 0, 0.04);
      padding: 2.5rem;
      position: relative;
      overflow: hidden;
      transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1),
                  box-shadow 0.3s cubic-bezier(0.25, 1, 0.5, 1);
    }
    .result-card::before {
      content: '';
      position: absolute; top: 0; left: 0;
      width: 100%; height: 6px;
      background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
    }
    .result-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1), 0 6px 20px rgba(0, 0, 0, 0.05);
    }
    .header { text-align: center; margin-bottom: 2.5rem; }
    .title {
      font-size: 28px;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 0.5rem;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
      position: relative;
      display: inline-block;
    }
    .title::after {
      content: '';
      position: absolute;
      bottom: -8px; left: 50%; transform: translateX(-50%);
      width: 60px; height: 4px;
      background-color: var(--primary-color); border-radius: 2px;
    }
    .subtitle { font-size: 18px; color: var(--text-secondary); margin-top: 1rem; }
    .score-section { text-align: center; padding: 2rem 0; }
    .score-container {
      background: linear-gradient(135deg, rgba(75, 56, 105, 0.07), rgba(75, 56, 105, 0.03));
      border-radius: 16px; padding: 2.5rem;
      display: flex; flex-direction: column; align-items: center;
      position: relative; border: 1px solid rgba(75, 56, 105, 0.1);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.04);
      animation: fadeInUp 0.8s ease-out;
    }
    .score-label { font-size: 18px; font-weight: 500; color: var(--text-secondary); margin-bottom: 0.5rem; }
    .score-value {
      font-size: 4.5rem; font-weight: 900;
      background: linear-gradient(45deg, var(--primary-color), #6e5498);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      line-height: 1; margin: 0.5rem 0;
      position: relative; display: inline-block;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }
    .score-value::after {
      content: ''; position: absolute; top: 0; left: -100%;
      width: 50%; height: 100%;
      background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%,rgba(255, 255, 255, 0.3) 50%,rgba(255, 255, 255, 0) 100%);
      transform: skewX(-25deg); animation: shine 3s infinite;
    }
    @keyframes shine { 0% { left: -100%; } 50%, 100% { left: 100%; } }
    .score-value-text { font-size: 2rem; color: var(--primary-color); font-weight: 700; }
    .checked-count { font-size: 17px; color: var(--text-secondary); margin-top: 0.5rem; }
    .level-badge {
      margin-top: 1.2rem; font-size: 17px; font-weight: 600;
      padding: 0.8rem 1.8rem; border-radius: 100px;
      display: inline-block; animation: pulseBadge 2.5s infinite;
      border: 1px solid transparent;
    }
    .level-badge.low { background-color: rgba(46, 204, 113, 0.1); color: var(--success-color); border-color: rgba(46, 204, 113, 0.3); animation-name: pulseBadgeGreen; }
    .level-badge.caution { background-color: rgba(241, 196, 15, 0.1); color: var(--warning-color); border-color: rgba(241, 196, 15, 0.3); animation-name: pulseBadgeYellow; }
    .level-badge.warning { background-color: rgba(230, 126, 34, 0.1); color: var(--alert-color); border-color: rgba(230, 126, 34, 0.3); animation-name: pulseBadgeOrange; }
    .level-badge.danger { background-color: rgba(231, 76, 60, 0.1); color: var(--danger-color); border-color: rgba(231, 76, 60, 0.3); animation-name: pulseBadgeRed; }
    .level-badge.critical { background-color: rgba(192, 57, 43, 0.1); color: var(--critical-color); border-color: rgba(192, 57, 43, 0.3); animation-name: pulseBadgeDarkRed; }
    @keyframes pulseBadgeGreen { 0% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.3); } 70% { box-shadow: 0 0 0 10px rgba(46, 204, 113, 0); } 100% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0); } }
    @keyframes pulseBadgeYellow { 0% { box-shadow: 0 0 0 0 rgba(241, 196, 15, 0.3); } 70% { box-shadow: 0 0 0 10px rgba(241, 196, 15, 0); } 100% { box-shadow: 0 0 0 0 rgba(241, 196, 15, 0); } }
    @keyframes pulseBadgeOrange { 0% { box-shadow: 0 0 0 0 rgba(230, 126, 34, 0.3); } 70% { box-shadow: 0 0 0 10px rgba(230, 126, 34, 0); } 100% { box-shadow: 0 0 0 0 rgba(230, 126, 34, 0); } }
    @keyframes pulseBadgeRed { 0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.3); } 70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); } 100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); } }
    @keyframes pulseBadgeDarkRed { 0% { box-shadow: 0 0 0 0 rgba(192, 57, 43, 0.3); } 70% { box-shadow: 0 0 0 10px rgba(192, 57, 43, 0); } 100% { box-shadow: 0 0 0 0 rgba(192, 57, 43, 0); } }
    .gauge-container { width: 100%; margin: 2.5rem 0; }
    .gauge-bar { height: 12px; background-color: var(--border-light); border-radius: 100px; position: relative; overflow: hidden; box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06); }
    .gauge-fill { height: 100%; border-radius: 100px; width: 0%; background: linear-gradient(90deg, var(--danger-color), #e74c3c); position: relative; transition: width 1.5s cubic-bezier(0.25, 1, 0.5, 1), background-color 1s ease, background-image 1s ease; box-shadow: 0 0 10px rgba(231, 76, 60, 0.5); }
    .gauge-markers { position: relative; width: 100%; height: 30px; margin-top: 10px; display: flex; justify-content: space-between; }
    .gauge-marker { position: relative; display: flex; flex-direction: column; align-items: center; width: 2px; font-size: 14px; color: var(--text-secondary); }
    .gauge-marker::before { content: ''; width: 2px; height: 8px; background-color: #d1d5db; margin-bottom: 4px; }
    .interpretation-section { margin: 2.5rem 0; animation: fadeIn 1s ease-out; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .section-title {
      font-size: 22px; font-weight: 600; margin-bottom: 1.5rem; position: relative; padding-left: 1rem;
      display: flex; align-items: center; color: var(--primary-color);
    }
    .section-title::before {
      content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%);
      width: 4px; height: 24px; background-color: var(--primary-color); border-radius: 2px;
    }
    .interpretation-content {
      background-color: var(--primary-lighter);
      padding: 2rem; border-radius: 16px;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.03);
      border: 1px solid rgba(213, 202, 227, 0.3);
      transition: all 0.3s ease;
    }
    .interpretation-content:hover { box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.04); transform: translateY(-2px); }
    .interpretation-text { font-size: 18px; line-height: 1.8; color: var(--text-main); }
    .interpretation-text strong { color: var(--primary-dark); font-weight: 600; }
    .actions { display: flex; justify-content: center; gap: 1rem; margin-top: 2.5rem; flex-wrap: wrap; }
    .btn {
      padding: 0.9rem 1.8rem; 
      border-radius: 100px; 
      font-size: 17px; 
      font-weight: 600; 
      cursor: pointer;
      transition: all 0.3s ease; 
      display: inline-flex; 
      align-items: center; 
      justify-content: center;
      text-decoration: none; 
      border: none; 
      outline: none; 
      min-width: 180px;
    }
    .btn-primary { background-color: var(--primary-color); color: white; box-shadow: 0 4px 14px rgba(75, 56, 105, 0.3); }
    .btn-primary:hover { background-color: var(--primary-dark); transform: translateY(-3px); box-shadow: 0 6px 20px rgba(75, 56, 105, 0.4); }
    .btn-primary:active { transform: translateY(-1px) scale(0.98); }
    .btn-outlined { background-color: transparent; color: var(--primary-color); border: 2px solid var(--primary-color); }
    .btn-outlined:hover { background-color: rgba(75, 56, 105, 0.05); transform: translateY(-3px); box-shadow: 0 4px 12px rgba(75, 56, 105, 0.15); }
    .btn-secondary { background-color: #f3f4f6; color: var(--text-secondary); }
    .btn-secondary:hover { background-color: #e5e7eb; transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
    .btn-icon { margin-right: 0.5rem; font-size: 1.1em; }
    .btn-icon-only {
        width: 50px; height: 50px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        background-color: #f3f4f6; font-size: 22px; cursor: pointer; margin: 0 10px;
        padding: 0; min-width: auto;
        transition: all 0.3s ease;
    }
    .btn-icon-only:hover { background-color: #e5e7eb; transform: translateY(-2px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); }
    .disclaimer {
      text-align: center; 
      margin-top: 2.5rem; 
      font-size: 14px; 
      color: var(--text-secondary); 
      padding: 1.2rem;
      background-color: rgba(75, 56, 105, 0.05); 
      border-radius: 12px; 
      border: 1px solid rgba(75, 56, 105, 0.1);
    }
    .disclaimer strong { color: var(--text-main); font-weight: 500; }
    .watermark { position: absolute; bottom: 1rem; right: 1rem; font-size: 14px; color: var(--text-light); opacity: 0.7; }
    .additional-links { text-align: center; margin-top: 20px; }
    .additional-link { color: var(--primary-color); text-decoration: none; margin: 0 15px; font-size: 16px; transition: color 0.2s ease; }
    .additional-link:hover { color: var(--primary-dark); text-decoration: underline; }
    .main-button {
      background-color: var(--primary-color); 
      color: white; 
      font-weight: 600; 
      font-size: 17px;
      padding: 1rem 2.5rem; 
      border-radius: 100px;
      box-shadow: 0 4px 15px rgba(75, 56, 105, 0.35); 
      transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
      width: 100%; 
      max-width: 400px; 
      letter-spacing: 0.5px; 
      position: relative; 
      overflow: hidden; 
      border: none; 
      cursor: pointer;
    }
    .main-button:hover { background-color: var(--primary-dark); transform: translateY(-3px); box-shadow: 0 6px 20px rgba(75, 56, 105, 0.45); }
    .main-button:active { transform: translateY(-1px) scale(0.98); }
    .main-button::after {
      content: ''; position: absolute; top: 50%; left: 50%; width: 10px; height: 10px;
      background-color: rgba(255, 255, 255, 0.4); border-radius: 50%;
      transform: translate(-50%, -50%) scale(0); opacity: 0; transition: transform 0.6s, opacity 0.6s;
    }
    .main-button:hover::after { transform: translate(-50%, -50%) scale(200); opacity: 0.2; }
    .pulse-animation { animation: pulse 2.5s infinite; }
    @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(75, 56, 105, 0.4); } 70% { box-shadow: 0 0 0 12px rgba(75, 56, 105, 0); } 100% { box-shadow: 0 0 0 0 rgba(75, 56, 105, 0); } }
    .status-message {
      position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
      background-color: var(--primary-color); color: white; padding: 12px 24px; border-radius: 100px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15); z-index: 1000; opacity: 0;
      transition: opacity 0.3s ease, transform 0.3s ease; font-size: 14px; font-weight: 500; pointer-events: none;
    }
    .status-message.show { opacity: 1; transform: translate(-50%, -10px); }
    .staggered-fade-in { opacity: 0; transform: translateY(10px); animation: staggerFadeIn 0.5s ease forwards; }
    @keyframes staggerFadeIn { to { opacity: 1; transform: translateY(0); } }
    .main-button:focus-visible,
    .btn:focus-visible,
    .btn-icon-only:focus-visible,
    input[type="checkbox"]:focus-visible,
    .additional-link:focus-visible {
      outline: 3px solid var(--primary-light);
      outline-offset: 2px;
      box-shadow: 0 0 0 4px rgba(75, 56, 105, 0.3);
      border-radius: 6px;
    }
    .main-button:focus-visible, .btn:focus-visible, .btn-icon-only:focus-visible { border-radius: 100px; }
    @media (max-width: 768px) {
      .calculator-container, .result-card { padding: 1.5rem; }
      .title { font-size: 24px; }
      .score-value { font-size: 3.5rem; }
      .score-container { padding: 1.5rem; }
      .section-title { font-size: 20px; }
      .interpretation-text { font-size: 17px; line-height: 1.8; color: var(--text-main); }
      .actions { flex-direction: column; align-items: center; }
      .btn { width: 100%; max-width: 300px; }
    }
    @media (max-width: 480px) {
      body { padding: 0.5rem; }
      .calculator-container, .result-card { padding: 1rem; border-radius: 16px; }
      .question-item { padding: var(--spacing-sm) var(--spacing-md); }
      .title { font-size: 22px; }
      .subtitle { font-size: 16px; }
      .score-value { font-size: 3rem; }
      .interpretation-content { padding: 1.5rem; }
    }
    :root {
      --transition-spring: 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      --highlight-bar: linear-gradient(to right, var(--primary-color), var(--primary-light));
      --shadow-deep: 0 12px 24px rgba(0, 0, 0, 0.15);
    }
    .title::after {
      content: '';
      display: block;
      width: 60px;
      height: 4px;
      background: var(--highlight-bar);
      margin: 12px auto 0;
      border-radius: 2px;
    }
    .main-button:hover,
    .btn-primary:hover {
      transform: scale(1.03);
      box-shadow: var(--shadow-deep);
      transition: var(--transition-spring);
    }
    .main-button:active,
    .btn-primary:active {
      transform: scale(0.97);
    }
    .calculator-container:hover,
    .result-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      transition: var(--transition-spring);
    }
    .gauge-fill {
      transition: width 1.8s var(--transition-spring);
    }
    .score-value {
      animation: fadeInUp 0.8s ease-out;
    }
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .btn-icon-only:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .interpretation-content {
      animation: fadeInScale 0.6s ease-out;
    }
    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
 </head>
 <body>
  <section aria-labelledby="calculatorTitle" class="calculator-container animate__animated animate__fadeIn" id="questionsSectionWrapper">
   <h1 class="title text-center mb-3" id="calculatorTitle" style="text-align: center; width: 100%; display: block;">
    ğŸ’¬ ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸
   </h1>
   <p class="subtitle text-center mb-8" style="text-align: center;">
    ğŸ“Œ ì•„ë˜ ë¬¸í•­ ì¤‘
    <span class="font-semibold" style="color: var(--primary-color);">
     í•´ë‹¹ë˜ëŠ” ê²ƒì— ì²´í¬
    </span>
    í•´ ì£¼ì„¸ìš”. (ì´
    <span id="totalQuestionCount">
     0
    </span>
    ë¬¸í•­)
   </p>
   <div class="questions-list space-y-4 mb-12">
    <p class="text-center text-gray-500" id="loadingMessage">
     ì§ˆë¬¸ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...
    </p>
   </div>
   <div class="flex justify-center mt-12">
    <div style="display: flex; justify-content: center; margin-top: 48px; margin-bottom: 32px;">
     <button class="main-button pulse-animation" id="calculateBtn">
      ğŸ’¡ ë‚´ ì ìˆ˜ í™•ì¸í•˜ê¸° â–¶
     </button>
    </div>
   </div>
   <div class="disclaimer mt-8 opacity-80">
    <p>
     âœ“ ëª¨ë“  ë¬¸í•­ì€
     <strong>
      ê°œì¸ ì‹¬ë¦¬ ì²´í¬
     </strong>
     ë¥¼ ìœ„í•œ ê²ƒìœ¼ë¡œ, ì²´í¬ëœ í•­ëª©ì€ ì™¸ë¶€ì— ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    </p>
   </div>
  </section>
  <section aria-labelledby="resultTitle" class="result-container animate__animated" id="resultSectionWrapper" style="display: none;">
   <div class="result-card animate__animated">
    <div class="header">
     <h1 class="title" id="resultTitle">
      ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ ê²°ê³¼
     </h1>
     <p class="subtitle">
      ë‹¹ì‹ ì˜ ê´€ê³„ ê±´ê°•ë„ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”
     </p>
    </div>
    <div class="score-section">
     <div class="score-container">
      <span class="score-label">
       ë‹¹ì‹ ì˜ ì ìˆ˜ëŠ”
      </span>
      <div class="score-value" id="finalScore">
       0
       <span class="score-value-text">
        ì 
       </span>
      </div>
      <span class="checked-count">
       ì²´í¬í•œ ë¬¸í•­:
       <span id="finalCheckedCount">
        0
       </span>
       /
       <span id="resultTotalQuestionCount">
        0
       </span>
      </span>
      <div class="level-badge" id="finalBadge">
       ğŸŸ¢ ë‚®ìŒ ë‹¨ê³„
      </div>
     </div>
    </div>
    <div class="gauge-container">
     <div class="gauge-bar">
      <div class="gauge-fill" id="finalGaugeFill">
      </div>
     </div>
     <div class="gauge-markers">
      <div class="gauge-marker">
       0
      </div>
      <div class="gauge-marker">
       30
      </div>
      <div class="gauge-marker">
       45
      </div>
      <div class="gauge-marker">
       60
      </div>
      <div class="gauge-marker">
       75
      </div>
      <div class="gauge-marker">
       100
      </div>
     </div>
    </div>
    <div class="interpretation-section">
     <h2 class="section-title">
      <span class="emoji-icon">
       ğŸ”
      </span>
      ê²°ê³¼ í•´ì„
     </h2>
     <div class="interpretation-content" id="interpretationContent">
      <p class="interpretation-text" id="interpretationText">
      </p>
     </div>
    </div>
    <div class="actions">
     <button class="btn btn-outlined" id="retryBtn">
      <span class="btn-icon">
       ğŸ”„
      </span>
      ë‹¤ì‹œ ì²´í¬í•˜ê¸°
     </button>
    </div>
    <div class="disclaimer">
     <p>
      ğŸ“Œ ì´ ê³„ì‚°ê¸°ëŠ”
      <strong>
       ìê°€ì§„ë‹¨ ì°¸ê³  ëª©ì 
      </strong>
      ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”.
     </p>
     <p>
      ì •ì‹ ì§ˆí™˜ ì§„ë‹¨ì´ë‚˜ ì „ë¬¸ì ì¸ ì¹˜ë£Œë¥¼ ëŒ€ì²´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
     </p>
     <p>
      ì •í™•í•œ ì§„ë‹¨ê³¼ ë„ì›€ì´ í•„ìš”í•˜ë‹¤ë©´ ë°˜ë“œì‹œ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì„¸ìš”.
     </p>
    </div>
    <div class="watermark">
     Powered by ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ë‹·ì»´
    </div>
   </div>
  </section>
  <div class="status-message" id="statusMessage">
   ë©”ì‹œì§€
  </div>
  <script>
   // ===== ë°ì´í„° ì •ì˜ =====
    const questions = [
      { id: 'q1', emoji: 'ğŸ’”', text: 'ê·¸ ì‚¬ëŒë§Œ ìƒê°í•˜ë©´ ìê¾¸ <strong>ìƒì²˜ë°›ì€ ì¼ë“¤ì´ ë– ì˜¤ë¥´ê³ </strong>, ë§ˆìŒì´ ë’¤ì£½ë°•ì£½ ë¼.' },
      { id: 'q2', emoji: 'ğŸ¯', text: 'ë­”ê°€ ë¬¸ì œê°€ ìƒê¸°ë©´, ê²°êµ­ì—” <strong>ë‹¤ ë‚´ íƒ“ì´ ë¼ë²„ë ¤</strong>.' },
      { id: 'q3', emoji: 'ğŸ˜¤', text: 'ë‚´ê°€ í˜ë“¤ë‹¤ê³  ë§í•˜ë©´, "<strong>ë„ˆ ì§„ì§œ ì˜ˆë¯¼í•˜ë‹¤</strong>"ëŠ” ë§ì´ ë¨¼ì € ëŒì•„ì™€.' },
      { id: 'q4', emoji: 'ğŸ™‡', text: 'ëŠ˜ ê·¸ ì‚¬ëŒ ê°ì •ì´ ìš°ì„ ì´ê³ , <strong>ë‚´ ê°ì •ì€ ê·¸ëƒ¥ ë¬´ì‹œë‹¹í•˜ëŠ” ëŠë‚Œ</strong>ì´ì•¼.' },
      { id: 'q5', emoji: 'ğŸ§Š', text: 'ìê¾¸ <strong>ì£„ì±…ê° ë“¤ê²Œ ë§Œë“œëŠ”</strong> ë§ê³¼ í–‰ë™ì„ í•´.' },
      { id: 'q6', emoji: 'ğŸ˜’', text: 'ì¹­ì°¬ì´ë‚˜ ê´€ì‹¬ ëª» ë°›ìœ¼ë©´ ë˜ê²Œ <strong>ì˜ˆë¯¼í•˜ê³  ë‚ ì¹´ë¡œì›Œì ¸</strong>.' },
      { id: 'q7', emoji: 'ğŸ’£', text: 'ë‚´ê°€ ì¡°ê¸ˆë§Œ ì§€ì í•´ë„, <strong>ê°‘ìê¸° í™”ë¥¼ ë‚´ê±°ë‚˜ ë¶„ìœ„ê¸°ë¥¼ ë§ì³</strong>.' },
      { id: 'q8', emoji: 'ğŸ­', text: 'ê·¸ ì‚¬ëŒ ì˜†ì— ìˆìœ¼ë©´, <strong>ë‚´ê°€ ê´œíˆ ì˜ëª»í•œ ê²ƒì²˜ëŸ¼ ëŠê»´ì ¸</strong>.' },
      { id: 'q9', emoji: 'ğŸ‘€', text: 'ë‚´ê°€ ì˜ë˜ê±°ë‚˜ ì¸ì •ë°›ëŠ” ìƒí™©ì—ì„œëŠ” <strong>ì´ìƒí•˜ê²Œ ë¶ˆí¸í•´í•˜ê±°ë‚˜ ì§ˆíˆ¬í•´</strong>.' },
      { id: 'q10', emoji: 'ğŸ§®', text: 'ì§„ì‹¬ìœ¼ë¡œ ë‚  ì•„ë¼ëŠ” ê²Œ ì•„ë‹ˆë¼, <strong>ìê¸° ì´ë“ ë•Œë¬¸ì—</strong> ë‚˜ë‘ ìˆëŠ” ê²ƒ ê°™ì•„.' },
      { id: 'q11', emoji: 'ğŸ—¯ï¸', text: 'ì˜ˆì „ì— í–ˆë˜ ë‚´ ë§ì´ë‚˜ ê°ì •ì„ <strong>ê¼¬ì•„ì„œ ê³µê²©</strong>í•˜ëŠ” ë° ì¨.' },
      { id: 'q12', emoji: 'ğŸ“µ', text: 'ë³„ë§ ì—†ì´ <strong>ì—°ë½ ëŠê±°ë‚˜ ìŒ©í•˜ê²Œ êµ´ì–´ì„œ</strong> ê´œíˆ ë‚´ê°€ ë¶ˆì•ˆí•´ì ¸.' },
      { id: 'q13', emoji: 'ğŸŒ€', text: 'ì‚¬ì‹¤ì„ ìê¸° ì…ë§›ëŒ€ë¡œ ë°”ê¿”ì„œ, <strong>ë‚´ ê¸°ì–µì„ í—·ê°ˆë¦¬ê²Œ ë§Œë“¤ ë•Œ</strong>ê°€ ìˆì–´.' },
      { id: 'q14', emoji: 'ğŸ­', text: 'ìƒì²˜ ì¤˜ë†“ê³ ë„, <strong>ìê¸°ê°€ í”¼í•´ìì¸ ì²™</strong>í•˜ë©´ì„œ ë™ì •ì„ ìœ ë„í•´.' },
      { id: 'q15', emoji: 'ğŸ§¸', text: 'ì²˜ìŒì—” ë„ˆë¬´ ì™„ë²½í•´ ë³´ì˜€ëŠ”ë°, <strong>ì§€ê¸ˆì€ ì „í˜€ ë”´ì‚¬ëŒ ê°™ì•„</strong>.' },
      { id: 'q16', emoji: 'ğŸª', text: 'ì´ ê´€ê³„ ì•ˆì—ì„œ <strong>ìì¡´ê°ì´ ì ì  ë°”ë‹¥ë‚˜ê³ </strong> ìˆì–´.' },
      { id: 'q17', emoji: 'ğŸ¥‡', text: 'ë‚˜ë‘ <strong>ê²½ìŸí•˜ë ¤ëŠ” ëŠë‚Œ</strong>ì´ ë“¤ê³ , í•­ìƒ ìš°ìœ„ì— ì„œë ¤ í•´.' },
      { id: 'q18', emoji: 'ğŸ§²', text: 'ê°ì •ì ìœ¼ë¡œ ê±°ë¦¬ë¥¼ ë‘ê±°ë‚˜ ë¬´ì‹œí•´ì„œ, <strong>ë‚  ì¡°ì¢…í•˜ë ¤ëŠ” ê¸°ë¶„</strong>ì´ ë“¤ì–´.' },
      { id: 'q19', emoji: 'ğŸŒ«ï¸', text: '<strong>ê°™ì´ ìˆì–´ë„ ì™¸ë¡­ê³ </strong>, ë‚´ í¸ì€ í•˜ë‚˜ë„ ì—†ëŠ” ëŠë‚Œì´ì•¼.' },
      { id: 'q20', emoji: 'ğŸš¨', text: 'ê³„ì† ì´ë ‡ê²Œ ê°€ë©´â€¦ <strong>ë‚´ê°€ ì™„ì „íˆ ë¬´ë„ˆì§ˆ ê²ƒ ê°™ì€ ë¶ˆì•ˆê°</strong>ì´ ë“¤ì–´.' }
    ];

    const scoreLevels = [
      { maxScore: 29, label: 'ë‚®ìŒ', emoji: 'ğŸŸ¢', badgeClass: 'low', gaugeColor: 'var(--success-color)', interpretationBgColor: 'rgba(46, 204, 113, 0.05)', borderColor: 'rgba(46, 204, 113, 0.3)', message: `ğŸ‘‰ ê°ì •ì ìœ¼ë¡œ í° ìœ„í˜‘ì€ ë³´ì´ì§€ ì•Šì•„ìš”.<br>ì§€ê¸ˆ ê´€ê³„ëŠ” ì „ë°˜ì ìœ¼ë¡œ <strong>ì•ˆì •ì </strong>ì´ê³ , ë‚˜ë¥¼ ì¡´ì¤‘ë°›ê³  ìˆë‹¤ëŠ” ê°ê°ë„ ìœ ì§€ë˜ê³  ìˆëŠ” í¸ì´ì—ìš”.<br><br>ë‹¤ë§Œ, ê°€ë²¼ìš´ ê°ˆë“±ì´ë‚˜ ë¶ˆí¸ì´ ìˆë‹¤ë©´ ë¬´ì‹œí•˜ì§€ ë§ê³  <strong>ì°¨ê·¼ì°¨ê·¼ ëŒ€í™”</strong>ë¡œ í’€ì–´ê°€ëŠ” ìŠµê´€ì„ ë“¤ì´ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.` },
      { maxScore: 44, label: 'ê²½ê³„', emoji: 'ğŸŸ¡', badgeClass: 'caution', gaugeColor: 'var(--warning-color)', interpretationBgColor: 'rgba(241, 196, 15, 0.05)', borderColor: 'rgba(241, 196, 15, 0.3)', message: `ğŸ‘‰ ê²‰ìœ¼ë¡  í‰ì˜¨í•´ ë³´ì—¬ë„, ì‚´ì§ì”© <strong>ì¡°ì¢…</strong>ë‹¹í•˜ê±°ë‚˜ <strong>ë¬´ì‹œë‹¹í•˜ëŠ”</strong> ê¸°ë¶„ì´ ë“¤ ìˆ˜ ìˆì–´ìš”.<br><br>ë‚´ê°€ ë„ˆë¬´ ì˜ˆë¯¼í•œ ê±´ê°€? ë¼ê³  í˜¼ë™ëœë‹¤ë©´, ì§€ê¸ˆì´ <strong>ì‹¬ë¦¬ì  ê±°ë¦¬</strong>ë¥¼ ë‘ê³  ê´€ê³„ë¥¼ ê°ê´€ì ìœ¼ë¡œ ì ê²€í•´ë³¼ ì‹œì ì¼ ìˆ˜ ìˆì–´ìš”.` },
      { maxScore: 59, label: 'ì£¼ì˜', emoji: 'ğŸŸ ', badgeClass: 'warning', gaugeColor: 'var(--alert-color)', interpretationBgColor: 'rgba(230, 126, 34, 0.05)', borderColor: 'rgba(230, 126, 34, 0.3)', message: `ğŸ‘‰ ì´ì œëŠ” ê½¤ë‚˜ <strong>ì´ìƒì‹ í˜¸</strong>ê°€ ëšœë ·í•˜ê²Œ ë‚˜íƒ€ë‚˜ëŠ” í¸ì…ë‹ˆë‹¤.<br>ë‚´ ê°ì •ì´ ìì£¼ ë¬´ì‹œë˜ê±°ë‚˜, <strong>ì£„ì±…ê°</strong>ì´ ë°˜ë³µì ìœ¼ë¡œ ë“œëŠ” ê´€ê³„ì¼ ìˆ˜ ìˆì–´ìš”.<br><br>ì´ëŸ° ìƒí™©ì´ ì§€ì†ë˜ë©´, <strong>ì •ì„œì  ì†Œì§„</strong>ì´ ë¹¨ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ì™¸ë¶€ ë„ì›€ì´ë‚˜ ê´€ê³„ ì¡°ì •ì„ ì§„ì§€í•˜ê²Œ ê³ ë¯¼í•´ ë³´ì„¸ìš”.` },
      { maxScore: 74, label: 'ìœ„í—˜', emoji: 'ğŸ”´', badgeClass: 'danger', gaugeColor: 'var(--danger-color)', interpretationBgColor: 'rgba(231, 76, 60, 0.05)', borderColor: 'rgba(231, 76, 60, 0.3)', message: `ğŸ‘‰ ì§€ê¸ˆ ì´ ê´€ê³„ëŠ” <strong>'ì‹¬ë¦¬ì  í†µì œ'</strong>ì™€ <strong>'ê°ì •ì  ì°©ì·¨'</strong>ê°€ ì„ì—¬ ìˆì„ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.<br><br>ë‚´ê°€ ë¬¸ì œê°€ ìˆì–´ì„œê°€ ì•„ë‹ˆë¼, ìƒëŒ€ê°€ <strong>ì˜ë„ì ìœ¼ë¡œ</strong> ë‚˜ë¥¼ ë‚®ì¶”ê±°ë‚˜ ìŠ¤ìŠ¤ë¡œë¥¼ ê³¼í•˜ê²Œ ë†’ì´ëŠ” íŒ¨í„´ì¼ ìˆ˜ ìˆì–´ìš”.<br><br><strong>ìê¸° ë³´í˜¸</strong>ì™€ <strong>ê²½ê³„ ì„¤ì •(ì„  ê¸‹ê¸°)</strong>ì„ ëª…í™•íˆ í•´ì•¼ í•  ë•Œì…ë‹ˆë‹¤. ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒê³¼ ìƒì˜í•´ë³´ì„¸ìš”.` },
      { maxScore: 100, label: 'ë§¤ìš° ìœ„í—˜', emoji: 'ğŸš¨', badgeClass: 'critical', gaugeColor: 'var(--critical-color)', interpretationBgColor: 'rgba(192, 57, 43, 0.05)', borderColor: 'rgba(192, 57, 43, 0.3)', message: `ğŸ‘‰ <strong>ì‹¬ê°í•œ ì •ì„œì  ì°©ì·¨</strong>ë‚˜ í•™ëŒ€ê°€ ì˜ì‹¬ë˜ëŠ” ìƒí™©ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>ë‚´ ìì¡´ê°ì´ ë¹ ë¥´ê²Œ ë¬´ë„ˆì§€ê³ , ê°ì •ì ìœ¼ë¡œ ê³ ë¦½ë˜ì–´ í˜¼ë€ìŠ¤ëŸ¬ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>ì•ˆì „ê³¼ ì •ì‹ ê±´ê°•ì„ ìœ„í•´ì„œë¼ë„, ê°€ëŠ¥í•œ ë¹¨ë¦¬ <strong>ì „ë¬¸ê°€ì˜ ë„ì›€</strong>(ìƒë‹´ì‚¬, ì •ì‹ ê³¼ ì˜ì‚¬ ë“±)ì„ ë°›ê±°ë‚˜ <strong>ì•ˆì „í•œ í™˜ê²½</strong>ìœ¼ë¡œ ë²—ì–´ë‚˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. í˜¼ì í˜ë“¤ì–´í•˜ì§€ ë§ˆì„¸ìš”.` }
    ];

    // ===== ìš”ì†Œ ì„ íƒ =====
    const questionsSection = document.getElementById('questionsSectionWrapper');
    const resultSection = document.getElementById('resultSectionWrapper');
    const questionsListContainer = document.querySelector('.questions-list');
    const loadingMessage = document.getElementById('loadingMessage');
    const totalQuestionCountEl = document.getElementById('totalQuestionCount');
    const calculateBtn = document.getElementById('calculateBtn');
    const finalScoreEl = document.getElementById('finalScore');
    const finalCheckedCountEl = document.getElementById('finalCheckedCount');
    const resultTotalQuestionCountEl = document.getElementById('resultTotalQuestionCount');
    const finalBadgeEl = document.getElementById('finalBadge');
    const finalGaugeFill = document.getElementById('finalGaugeFill');
    const interpretationContent = document.getElementById('interpretationContent');
    const interpretationText = document.getElementById('interpretationText');
    const retryBtn = document.getElementById('retryBtn');
    const saveImageBtn = document.getElementById('saveImageBtn');
    const shareBtn = document.getElementById('shareBtn');
    const statusMessage = document.getElementById('statusMessage');

    // ===== í•¨ìˆ˜ ì •ì˜ =====
    function showStatusMessage(message, duration = 2000) {
      statusMessage.textContent = message;
      statusMessage.classList.add('show');
      setTimeout(() => statusMessage.classList.remove('show'), duration);
    }

    function handleCheckboxChange(event) {
      const checkbox = event.target;
      const questionItem = checkbox.closest('.question-item');
      if (!questionItem) return;
      if (checkbox.checked) {
        questionItem.style.borderLeft = '4px solid var(--primary-color)';
        questionItem.style.backgroundColor = '#ede8f6';
      } else {
        questionItem.style.borderLeft = '0px solid var(--primary-color)';
        questionItem.style.backgroundColor = 'var(--primary-lighter)';
      }
    }

    function attachCheckboxListeners() {
      const checkboxes = questionsListContainer.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach(checkbox => {
        checkbox.removeEventListener('change', handleCheckboxChange);
        checkbox.addEventListener('change', handleCheckboxChange);
      });
    }

    function renderQuestions() {
      questionsListContainer.innerHTML = '';
      totalQuestionCountEl.textContent = questions.length;
      if (questions.length === 0) {
          loadingMessage.textContent = "ì§ˆë¬¸ ëª©ë¡ì´ ì—†ìŠµë‹ˆë‹¤.";
          loadingMessage.style.display = 'block';
          return;
      }
      loadingMessage.style.display = 'none';
      questions.forEach((q, index) => {
        const questionId = `q${index + 1}`;
        const labelId = `label-for-${questionId}`;
        const questionElement = document.createElement('div');
        questionElement.className = 'question-item staggered-fade-in';
        questionElement.innerHTML = `
          <label for="${questionId}" id="${labelId}">
            <div class="question-text">
              <span class="emoji-icon" aria-hidden="true">${q.emoji}</span> ${q.text}
            </div>
            <input type="checkbox" id="${questionId}" aria-labelledby="${labelId}" data-question-id="${q.id}" />
          </label>
        `;
        questionsListContainer.appendChild(questionElement);
      });
      attachCheckboxListeners();
    }

    calculateBtn.addEventListener('click', () => {
      calculateBtn.classList.add('animate__animated', 'animate__pulse');
      setTimeout(() => calculateBtn.classList.remove('animate__animated', 'animate__pulse'), 500);
      const checkboxes = questionsListContainer.querySelectorAll('input[type="checkbox"]:checked');
      const checkedCount = checkboxes.length;
      const score = checkedCount * 5;
      const currentLevel = scoreLevels.find(level => score <= level.maxScore);
      if (!currentLevel) {
          console.error("ì ìˆ˜ ë ˆë²¨ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.", score);
          showStatusMessage("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
          return;
      }
      finalScoreEl.innerHTML = `${score}<span class="score-value-text">ì </span>`;
      finalCheckedCountEl.textContent = checkedCount;
      resultTotalQuestionCountEl.textContent = questions.length;
      finalBadgeEl.textContent = `${currentLevel.emoji} ${currentLevel.label} ë‹¨ê³„`;
      finalBadgeEl.className = `level-badge ${currentLevel.badgeClass}`;
      finalGaugeFill.style.width = `${score}%`;
      finalGaugeFill.style.backgroundColor = currentLevel.gaugeColor;
      finalGaugeFill.style.backgroundImage = `linear-gradient(90deg, ${currentLevel.gaugeColor}, ${currentLevel.gaugeColor})`;
      interpretationText.innerHTML = currentLevel.message;
      interpretationContent.style.backgroundColor = currentLevel.interpretationBgColor;
      interpretationContent.style.borderColor = currentLevel.borderColor;
      questionsSection.classList.remove('animate__fadeIn');
      questionsSection.classList.add('animate__animated', 'animate__fadeOut');
      setTimeout(() => {
        questionsSection.style.display = 'none';
        resultSection.style.display = 'block';
        resultSection.classList.add('animate__animated', 'animate__fadeIn');
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 500);
    });

    retryBtn.addEventListener('click', () => {
      questionsListContainer.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
      questionsListContainer.querySelectorAll('.question-item').forEach(item => {
          const checkbox = item.querySelector('input[type="checkbox"]');
          if (checkbox) {
              item.style.borderLeft = '0px solid var(--primary-color)';
              item.style.backgroundColor = 'var(--primary-lighter)';
          }
      });
      resultSection.classList.remove('animate__fadeIn');
      resultSection.classList.add('animate__animated', 'animate__fadeOut');
      setTimeout(() => {
        resultSection.style.display = 'none';
        questionsSection.style.display = 'block';
        questionsSection.classList.remove('animate__fadeOut');
        questionsSection.classList.add('animate__animated', 'animate__fadeIn');
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 500);
    });

    if (saveImageBtn) {
      saveImageBtn.addEventListener('click', () => {
        saveImageBtn.classList.add('animate__animated', 'animate__pulse');
        setTimeout(() => saveImageBtn.classList.remove('animate__animated', 'animate__pulse'), 500);
        const resultCard = resultSection.querySelector('.result-card');
        if (!resultCard) {
          showStatusMessage("ì´ë¯¸ì§€ ì €ì¥ ì˜¤ë¥˜: ê²°ê³¼ ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
          return;
        }
        showStatusMessage("ì´ë¯¸ì§€ ìƒì„± ì¤‘...", 5000);
        html2canvas(resultCard, {
          scale: 2,
          backgroundColor: getComputedStyle(document.body).backgroundColor || '#f7f7f7',
          logging: false,
          useCORS: true,
          onclone: (document) => {
            const watermark = document.querySelector('.watermark');
            if (watermark) watermark.style.display = 'none';
          }
        }).then(canvas => {
          const link = document.createElement('a');
          const date = new Date();
          const filename = `ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸_í…ŒìŠ¤íŠ¸_ê²°ê³¼_${date.getFullYear()}${String(date.getMonth() + 1).padStart(2, '0')}${String(date.getDate()).padStart(2, '0')}.png`;
          link.download = filename;
          link.href = canvas.toDataURL('image/png');
          link.click();
          showStatusMessage('ì´ë¯¸ì§€ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }).catch(err => {
          console.error("html2canvas ì˜¤ë¥˜:", err);
          showStatusMessage("ì´ë¯¸ì§€ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        });
      });
    }

    if (shareBtn) {
      shareBtn.addEventListener('click', () => {
        shareBtn.classList.add('animate__animated', 'animate__pulse');
        setTimeout(() => shareBtn.classList.remove('animate__animated', 'animate__pulse'), 500);
        const scoreText = finalScoreEl.textContent || "0ì ";
        const scoreValue = parseInt(scoreText, 10);
        const levelText = finalBadgeEl.textContent || "ì •ë³´ ì—†ìŒ";
        const checkedCount = finalCheckedCountEl.textContent || "0";
        const totalCount = resultTotalQuestionCountEl.textContent || questions.length;
        const currentLevel = scoreLevels.find(level => scoreValue <= level.maxScore);
        let resultMessage = currentLevel ? currentLevel.message.split('<br>')[0].replace(/<[^>]*>?/gm, '') : "ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.";
        const shareText = `[ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ ê²°ê³¼]\n\n` +
            `ğŸ“Š ì œ ì ìˆ˜ëŠ” ${scoreValue}ì  / 100ì  (${levelText}) ì…ë‹ˆë‹¤.\n` +
            `ğŸ‘‰ ì²´í¬í•œ ë¬¸í•­: ${checkedCount} / ${totalCount}ê°œ\n\n` +
            `${resultMessage}\n\n` +
            `ìì„¸í•œ ë‚´ìš©ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸í•´ë³´ì„¸ìš”!\n` +
            `${window.location.href}`;
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(shareText).then(() => {
                showStatusMessage('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }, (err) => {
                console.error("í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:", err);
                showStatusMessage('ê²°ê³¼ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
            });
        } else {
            showStatusMessage('í´ë¦½ë³´ë“œ ë³µì‚¬ê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” í™˜ê²½ì…ë‹ˆë‹¤.');
        }
      });
    }

    renderQuestions();
  </script>
 </body>
</html>
